<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Makona Editor Example</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="makona-editor.css" type="text/css" media="screen" charset="utf-8">
    <!--link href='http://fonts.googleapis.com/css?family=Fauna+One' rel='stylesheet' type='text/css' -->
    <!--[if lte IE 8]>
        <script src="es5-shim.js"></script>
        <script src="es5-sham.js"></script>
    <![endif]-->
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/ui/1.11.1/jquery-ui.min.js"></script>
    <script src="http://fb.me/react-with-addons-0.11.1.js"></script>
  </head>
  <body>
    <style>
    body {
      padding: 0px;
      margin: 0px;
    }
    #header {
      margin: 0px 0px 0px 0px;
      width: 100%;
      min-width: 1195px;
      height: 51px;
      display: block;
      background: #0072b4 !important;
      background-image: -webkit-gradient(linear, left top, left bottom, from(#0072b4), to(#00517f)) !important;
      background-image: -webkit-linear-gradient(#0072b4, #00517f) !important;
      background-image: -moz-linear-gradient(center top, #0072b4 0%, #00517f 100%) !important;
      background-image: -moz-gradient(center top, #0072b4 0%, #00517f 100%) !important;
      background-image: -o-linear-gradient(top, #0072b4 0%, #00517f 100%) !important;
      background-image: -ms-linear-gradient(top, #0072b4 0%, #00517f 100%) !important;
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#FF0072B4', endColorstr='#FF00517F');" !important;
      filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#FF0072B4', endColorstr='#FF00517F') !important;
      zoom: 1 !important;
    }
    #main-wrapper {
      background-color: #fff;
    }
    #main {
      padding: 0px;
      width: 1300px;
      height: auto;
      display: table;
      margin: auto;
    }
    #content {
      width: 100%;
      min-width: 700px;
      height: 100%;
      position: relative;
      background-color: #fbfbfb;
      border-bottom: 1px solid #dfdfdf;
      border-right: 1px solid #dfdfdf;
      display: table-cell;
      vertical-align: top;
      -webkit-box-shadow: 0px 3px 10px rgba(0, 0, 0, 0.07);
      -moz-box-shadow: 0px 3px 10px rgba(0, 0, 0, 0.07);
      -o-box-shadow: 0px 3px 10px rgba(0, 0, 0, 0.07);
      box-shadow: 0px 3px 10px rgba(0, 0, 0, 0.07);
      -webkit-border-radius: 0px 0px 10px 10px;
      -khtml-border-radius: 0px 0px 10px 10px;
      -moz-border-radius: 0px 0px 10px 10px;
      -ms-border-radius: 0px 0px 10px 10px;
      -o-border-radius: 0px 0px 10px 10px;
      border-radius: 0px 0px 10px 10px;
      text-align: left;
      border-left: 1px solid #dfdfdf;
    }
    #content .title-container {
      padding: 20px 24px 20px 24px;
      margin: 0px auto;
      text-align: left;
      height: auto;
      background-color: #fff;
      box-shadow-right: none;
      position: relative;
      border-bottom: 1px solid #dedede;
      border-left: 1px solid #eaeaea;
      -webkit-box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.05);
      -moz-box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.05);
      -o-box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.05);
      box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.05);
      left: -1px;
    }
    #content .title-container .title {
      width: auto;
      padding: 0px 0px 0px 0px;
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-weight: 300;
      font-size: 25px;
      display: inline-block;
      vertical-align: top;
    }
    #content .title-container .title.small {
      font-size: 18px;
    }
    #left-sidebar {
      width: 220px;
      min-width: 220px;
      height: 100%;
      display: table-cell;
      vertical-align: top;
    }
    #left-sidebar .logo {
      max-width: 220px;
      height: 150px;
      margin: 0px auto;
      text-align: center;
      background-color: #fff;
      box-shadow-right: none;
      position: relative;
      border-bottom: 1px solid #e2e2e2;
      border-left: 1px solid #e2e2e2;
    }
    #left-sidebar ul {
      list-style: none;
    }
    #left-sidebar .menu-widget {
      background-color: #f4f4f4;
      font-family: Arial, sans-serif;
      border-bottom: 1px solid #e2e2e2;
      border-left: 1px solid #e2e2e2;
      -webkit-border-radius: 0px 0px 0px 10px;
      -khtml-border-radius: 0px 0px 0px 10px;
      -moz-border-radius: 0px 0px 0px 10px;
      -ms-border-radius: 0px 0px 0px 10px;
      -o-border-radius: 0px 0px 0px 10px;
      border-radius: 0px 0px 0px 10px;
    }
    #left-sidebar .menu-widget ul {
      margin: 0px;
      padding: 0px;
    }
    #left-sidebar .menu-widget ul li {
      border-bottom: 1px solid #e2e2e2;
      padding: 10px 5px 10px 20px;
      margin: 0;
      display: block;
      font-size: 15px;
    }
    #left-sidebar .menu-widget ul li a {
    }
    #left-sidebar .menu-widget .nav-header {
      background-color: #afafaf;
      margin: 0 0 0 0;
      padding-top: 5px;
      padding-bottom: 5px;
      text-transform: none;
      text-shadow: none;
      color: #ffffff;
      font-size: 15px;
      font-weight: bold;
      line-height: 30px;
    }
    #right-sidebar {
      margin: 0px;
      padding: 16px 33px 16px 16px;
      width: auto;
      height: 100%;
      position: relative;
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }
    #right-sidebar ul {
      list-style: none;
    }

    #right-sidebar .sidebar-container + .sidebar-container {
      margin-top: 16px;
    }
    #right-sidebar .divider {
      margin: 10px 0px 10px 0px;
      border-bottom: 1px solid #f1f1f1;
    }
    #right-sidebar .sidebar-container {
      width: 222px;
      border: 1px solid #d7d7d7;
      background-color: #ffffff;
      display: block;
      -webkit-border-radius: 6px;
      -khtml-border-radius: 6px;
      -moz-border-radius: 6px;
      -ms-border-radius: 6px;
      -o-border-radius: 6px;
      border-radius: 6px;
      -webkit-box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.05);
      -moz-box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.05);
      -o-box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.05);
      box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.05);
    }
    #right-sidebar .sidebar-container .title-box {
      padding: 8px;
      border-bottom: 1px solid #e6e6e6;
      background: #fefefe !important;
      background-image: -webkit-gradient(linear, left top, left bottom, from(#fefefe), to(whitesmoke)) !important;
      background-image: -webkit-linear-gradient(#fefefe, whitesmoke) !important;
      background-image: -moz-linear-gradient(center top, #fefefe 0%, whitesmoke 100%) !important;
      background-image: -moz-gradient(center top, #fefefe 0%, whitesmoke 100%) !important;
      background-image: -o-linear-gradient(top, #fefefe 0%, whitesmoke 100%) !important;
      background-image: -ms-linear-gradient(top, #fefefe 0%, whitesmoke 100%) !important;
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#FFFEFEFE', endColorstr='#FFF5F5F5');" !important;
      filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#FFFEFEFE', endColorstr='#FFF5F5F5') !important;
      zoom: 1 !important;
      -webkit-border-radius: 6px 6px 0px 0px;
      -khtml-border-radius: 6px 6px 0px 0px;
      -moz-border-radius: 6px 6px 0px 0px;
      -ms-border-radius: 6px 6px 0px 0px;
      -o-border-radius: 6px 6px 0px 0px;
      border-radius: 6px 6px 0px 0px;
    }
    #right-sidebar .sidebar-container .title-box .title {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-weight: 400;
      font-size: 16px;
      color: #000000;
    }

    .container {
        margin: auto;
        width: 800px;
    }

    </style>

    <div id="header"></div>
    <div id="main-wrapper">
      <div id="main">
        <div id="left-sidebar">
          <div class="logo"></div>
          <div class="menu-widget">
            <ul class="nav nav-list">
              <li class="nav-header">Nav</li>
              <li>&nbsp;</li>
              <li>&nbsp;</li>
              <li>&nbsp;</li>
              <li>&nbsp;</li>
              <li>&nbsp;</li>
              <li>&nbsp;</li>
              <li class="nav-header">More Nav</li>
              <li>&nbsp;</li>
              <li>&nbsp;</li>
              <li>&nbsp;</li>
              <li>&nbsp;</li>
              <li>&nbsp;</li>
              <li>&nbsp;</li>
            </ul>
          </div>

        </div>
        <div id="content">

          <div class="title-container">
            <div class="title">Makona Editor</div>
            <div class="divider"></div>
            <div class="sub-title">
              Sample use of Makona editor to replace a textarea.
            </div>
          </div>

    <div class="container" style="zdisplay: none;">
        <form action="/submit" method="POST">
            <!-- This textarea will get replaced with the whole Makona editor, which will include a textarea with this name so that the form submit will work fine. -->
            <textarea id="makona-editor" name="body_json" data-output-format="html">
                [
                  {
                    "id": 11,
                    "position": 1,
                    "type": "image",
                    "data": {
                      "src": "cowbell.jpg"
                    }
                  },
                  {
                    "id": 12,
                    "position": 2,
                    "type": "markdown",
                    "data": {
                      "text": "# Markdown Block \n --- \n This is *italic* and **bold** \n \n* list a \n* list b\n\n and more  \n\n1. number list alpha\n1. number list beta\n"
                    }
                  },
                  {
                    "id": 14,
                    "position": 5,
                    "type": "code",
                    "data": {
                      "lang": "javascript",
                      "text": "4 function (arg1) {\n  console.log(\"Im in ur function\");\n  if (x == y) {\n    callMe();\n  }\n}\n"
                    }
                  },
                  {
                    "id": 15,
                    "position": 6,
                    "type": "document",
                    "data": {
                      "icon_url": "/assets/file_type_icons/pdf.png",
                      "title": "Small_doc.pdf",
                      "url": "https://dl.dropboxusercontent.com/u/2180623/Small%20doc.pdf"
                    }
                  }
                ]
            </textarea>
            <button type="submit">Save</button>
        </form>
    </div>







        </div>
        <div id="right-sidebar">
          <div class="sidebar-container">
            <div class="title-box">
              <div class="title">
                &nbsp;
              </div>
            </div>
            <div class="content-container">
              <ul>
                <li>&nbsp;</li>
                <li>&nbsp;</li>
                <li>&nbsp;</li>
                <li>&nbsp;</li>
                <li>&nbsp;</li>
                <li>&nbsp;</li>
              </ul>
            </div>
          </div>
          <div class="sidebar-container">
            <div class="title-box">
              <div class="title">
                &nbsp;
              </div>
            </div>
            <div class="content-container">
              <ul>
                <li>&nbsp;</li>
                <li>&nbsp;</li>
                <li>&nbsp;</li>
                <li>&nbsp;</li>
                <li>&nbsp;</li>
                <li>&nbsp;</li>
              </ul>
            </div>
          </div>

        </div>
      </div>
    </div>


    <script src="makona-editor.js"></script>
    <script>
      $(function() {
        new Makona({
                    nodeId: 'makona-editor',
                    createableBlockTypes: ['markdown', 'image', 'document', 'screencast', 'code', 'html'],
                    ImageEditor: {
                        debug: true,
                        request: {
                          inputName: 'asset',
                          endpoint: 'http://t1.development.kaleosoftware.com//v2/users/upload_image'
                        }
                    },
                    DocumentEditor: {
                        debug: true,
                        request: {
                          inputName: 'asset',
                          endpoint: 'http://t1.development.kaleosoftware.com//v2/users/upload_document'
                        }
                    }
                  });
      })
    </script>
  </body>

</html>